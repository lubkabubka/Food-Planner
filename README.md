# Планировщик раскладки продуктов для похода

Этот проект был создан, чтобы помочь мне во время организации школьного похода с классом на Байкал.

## Задачи:

Распределить продукты питания между людьми, так чтобы:

- нагрузка была равномерной и пропорциональной силе человека
- продукты уходили по дням и по весу у каждого человека +- равномерно

## Структура

````
food_pack_planner/
├─ data/
│  ├─ config.yaml                 # настройки/параметры распределения
│  ├─ items.csv                   # параметры продуктов
│  └─ participants.csv            # параметры людей
├─ output/                        # результаты работы в разных табличках
│  ├─ assignments_long.csv        
│  ├─ assignments_wide.csv        
│  └─ summary_by_person.csv       
├─ src/
│  └─ assign.py                   # основная логика распределения
├─ README.md
├─ requirements.txt               # зависимости проекта
└─ .venv/                         # виртуальное окружение
````

## Данные

Набор данных, который задает пользователь:

- `participants.csv` — колонки: `name,strength`
- `items.csv` — колонки: `item,weight_kg,volume,day,category`
    - `volume`: small | medium | large
    - `day`: номер дня как целое число (01, 02, 03 …)
    - `category`: regular | spice
- `config.yaml` — настройки алгоритма

## Запуск

1. Установите Python 3.10+ и откройте папку проекта в PyCharm.
2. Создайте и активируйте виртуальное окружение.
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Экспортируйте Google‑таблицы в CSV:
    - `participants.csv` — список участников и их сила.
    - `items.csv` — список продуктов с массой, объёмом и днём потребления.
      Положите файлы в папку `data/`
5. Запустите скрипт:
   ```bash
   python src/assign.py
   ```
6. Результаты смотрите в `output/`.

## Как работает

1. Считаем общий вес и целевой вес на каждого человека.

   `target_i = total_weight * strength_i / sum(strength)`
2. Сортируем продукты по дню (возрастание) и весу (по убыванию).
3. Кладём каждый продукт тому, у кого минимальная «стоимость» с учётом:
    - текущего отклонения от цели по весу;
    - равномерности дней у этого человека;
    - штрафа за большой объём (для слабых участников);
    - бонуса, если это специя и выбран «носитель специй».
4. Сохраняем два файла результатов.
